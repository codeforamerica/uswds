@use 'uswds-core' as *;
@use '../../scss/theme/_uswds-theme-shared.scss' as *;

.cfa-accordion {
  .usa-accordion__button {
    border-top-left-radius: radius($theme-border-radius-lg);
    border-top-right-radius: radius($theme-border-radius-lg);
    border-top-start-radius: radius($theme-border-radius-lg);
    border-top-end-radius: radius($theme-border-radius-lg);
  }

  .usa-accordion__button[aria-expanded='false'] {
    border-radius: radius($theme-border-radius-lg);
  }

  .usa-accordion__content {
    border-bottom-left-radius: radius($theme-border-radius-lg);
    border-bottom-right-radius: radius($theme-border-radius-lg);
    border-bottom-start-radius: radius($theme-border-radius-lg);
    border-bottom-end-radius: radius($theme-border-radius-lg);
  }

  .usa-accordion__content {
    @include set-text-and-bg(
      $bg-color: $theme-color-base-lightest,
      $preferred-text-color: 'ink',
      $context: 'CfA Accordion'
    );

    a:not(.usa-button),
    a:hover:not(.usa-button),
    a:visited:not(.usa-button) {
      @include set-link-from-bg(
        $bg-color: $theme-color-base-lightest,
        $preferred-link-color: $theme-color-primary-dark,
        $context: 'CfA Accordion'
      );
    }
  }
}

.cfa-accordion.usa-accordion--bordered {
  .usa-accordion__button {
    border: $theme-accordion-border;
    border-bottom: 0;
  }

  .usa-accordion__button[aria-expanded='false'] {
    border: $theme-accordion-border;
  }
}