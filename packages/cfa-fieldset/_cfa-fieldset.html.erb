<fieldset class="usa-fieldset<% if defined?(modifier) %> <%= modifier %><% end %>"
  <% if defined?(id) %> id="<%= id %>"<% end %>>
  <legend class="usa-legend<% if legend['modifier'] %> <%= legend['modifier'] %><% end %>"<% if legend['for'] %> for="<%= legend['for'] %>"<% end %><% if legend['tabindex'] %> tabindex="<%= legend['tabindex'] %>"<% end %>>
    <span><%= legend['text'] %></span>

    <% if defined?(required) %><abbr title="required" class="usa-hint usa-hint--required<% if legend['modifierHint'] %> <%= legend['modifierHint'] %><% end %>">*</abbr><% end %>
  </legend>

  <% if defined?(hint) %><div class="usa-hint<% if hint['modifier'] %> <%= hint['modifier'] %><% end %>"<% if hint['id'] %> id="<%= hint['id'] %>"<% end %>><%= hint['text'] %></div><% end %>

  <% if defined?(error) %><span class="usa-error-message"<% if error['id'] %> id="<%= error['id'] %>"<% end %><% if error['role'] %> role="<%= error['role'] %>"<% end %><% if error['ariaLive'] %> aria-live="<%= error['ariaLive'] %>"<% end %>><%= error['text'] %></span><% end %>

  <% options.each do |option| %>
  <div class="usa-<%= option['type'] %><% if option['modifier'] %> <%= option['modifier'] %><% end %>">
    <input class="usa-<%= option['type'] %>__input<% if option['input']['modifier'] %> <%= option['input']['modifier'] %><% end %>"
      <% if option['type'] %> type="<%= option['type'] %>"<% end %>
      <% if option['id'] %> id="<%= option['id'] %>"<% end %>
      <% if option['name'] %> name="<%= option['name'] %>"<% end %>
      <% if option['ariaInvalid'] %> aria-invalid="<%= option['ariaInvalid'] %>"<% end %>
      <% if option['ariaDescribedby'] %> aria-describedby="<%= option['ariaDescribedby'] %>"<% end %>
      <% if option['value'] %> value="<%= option['value'] %>"<% end %>
      <% if option['checked'] %> checked="<%= option['checked'] %>"<% end %>
      <% if defined?(required) %>required<% end %> />

    <label class="usa-<%= option['type'] %>__label"<% if option['id'] %> for="<%= option['id'] %>"<% end %>>
      <% if option['label'] %><span><%= option['label'] %></span><% end %>

      <% if option['description'] %><span class="usa-<%= option['type'] %>__label-description"><%= option['description'] %></span><% end %>
    </label>
  </div>
  <% end %>
</fieldset>